# é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ“‚ å®Œæ•´ç›®å½•ç»“æ„

```
src/
â”œâ”€â”€ App.tsx                     # åº”ç”¨å…¥å£ï¼ˆå“åº”å¼è·¯ç”±æ§åˆ¶ï¼‰
â”œâ”€â”€ main.tsx                    # React å…¥å£
â”‚
â”œâ”€â”€ layouts/                    # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ AdminLayout.tsx         # åå°ç®¡ç†å¸ƒå±€ï¼ˆå¸¦ä¾§è¾¹æ ï¼‰
â”‚   â”œâ”€â”€ BasicLayout.tsx         # åŸºç¡€å¸ƒå±€ï¼ˆæ— ä¾§è¾¹æ ï¼‰
â”‚   â””â”€â”€ MobileLayout.tsx        # ç§»åŠ¨ç«¯å¸ƒå±€ï¼ˆåº•éƒ¨å¯¼èˆªï¼‰
â”‚
â”œâ”€â”€ router/                     # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ generateRoutes.tsx      # ğŸ”‘ åŠ¨æ€è·¯ç”±ç”Ÿæˆå™¨ï¼ˆæ ¹æ®è®¾å¤‡ç±»å‹ï¼‰
â”‚   â”œâ”€â”€ types.ts                # è·¯ç”±ç±»å‹å®šä¹‰
â”‚   â”‚
â”‚   â”œâ”€â”€ computer/               # PCç«¯è·¯ç”±æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ index.tsx           # å¯¼å‡º computerModules
â”‚   â”‚   â”œâ”€â”€ homeModule.tsx      # é¦–é¡µæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ hooksModule.tsx     # Hooks å­¦ä¹ æ¨¡å—
â”‚   â”‚   â””â”€â”€ testModule.tsx      # æµ‹è¯•æ¨¡å—
â”‚   â”‚
â”‚   â””â”€â”€ mobile/                 # ç§»åŠ¨ç«¯è·¯ç”±æ¨¡å—
â”‚       â”œâ”€â”€ index.tsx           # å¯¼å‡º mobileModules
â”‚       â”œâ”€â”€ homeModule.tsx      # é¦–é¡µæ¨¡å—
â”‚       â”œâ”€â”€ appsModule.tsx      # åº”ç”¨æ¨¡å—
â”‚       â””â”€â”€ profileModule.tsx   # ä¸ªäººä¸­å¿ƒæ¨¡å—
â”‚
â”œâ”€â”€ components/                 # å…¬å…±ç»„ä»¶
â”‚   â””â”€â”€ SidebarMenu/
â”‚       â””â”€â”€ index.tsx           # ä¾§è¾¹æ èœå•ç»„ä»¶
â”‚
â”œâ”€â”€ pages/                      # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ home/                   # PCç«¯é¡µé¢
â”‚   â”‚   â”œâ”€â”€ home.tsx
â”‚   â”‚   â”œâ”€â”€ useCallback.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ mobile/                 # ç§»åŠ¨ç«¯é¡µé¢
â”‚   â”‚   â”œâ”€â”€ Home.tsx
â”‚   â”‚   â”œâ”€â”€ Apps.tsx
â”‚   â”‚   â””â”€â”€ Profile.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ Login/
â”‚   â””â”€â”€ NotFound/
â”‚
â”œâ”€â”€ store/                      # Redux çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ store.ts
â”‚
â””â”€â”€ features/                   # Redux slices
    â”œâ”€â”€ counter/
    â””â”€â”€ appSlice/
        â””â”€â”€ app.ts              # isMobile çŠ¶æ€ç®¡ç†
```

## ğŸ¯ æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

### 1. `App.tsx` - åº”ç”¨å…¥å£

**èŒè´£**ï¼š
- ç›‘å¬çª—å£å¤§å°å˜åŒ–
- æ ¹æ®è®¾å¤‡ç±»å‹åŠ¨æ€ç”Ÿæˆè·¯ç”±
- æä¾› Redux persist æ”¯æŒ

```typescript
// æ ¹æ® isMobile åŠ¨æ€ç”Ÿæˆè·¯ç”±
const router = useMemo(() => {
  const routes = generateRoutes(isMobile)
  return createBrowserRouter(routes as any)
}, [isMobile])
```

### 2. `router/generateRoutes.tsx` - è·¯ç”±ç”Ÿæˆå™¨

**èŒè´£**ï¼š
- æ ¹æ® `isMobile` å‚æ•°ç”Ÿæˆä¸åŒçš„è·¯ç”±é…ç½®
- PCç«¯ï¼šè¿”å›åå°ç®¡ç†è·¯ç”±
- ç§»åŠ¨ç«¯ï¼šè¿”å›ç§»åŠ¨ç«¯è·¯ç”±

**ä¸ºä»€ä¹ˆéœ€è¦åŠ¨æ€ç”Ÿæˆ**ï¼š
- ä¸åŒè®¾å¤‡ä½¿ç”¨å®Œå…¨ä¸åŒçš„è·¯ç”±ç»“æ„
- PCç«¯ï¼š`/admin/*` å¸¦ä¾§è¾¹æ 
- ç§»åŠ¨ç«¯ï¼š`/mobile/*` åº•éƒ¨å¯¼èˆª

### 3. `router/computer/` - PCç«¯è·¯ç”±æ¨¡å—

**èŒè´£**ï¼š
- ç®¡ç†æ‰€æœ‰ PCç«¯é¡µé¢è·¯ç”±
- æ¯ä¸ªæ¨¡å—ç‹¬ç«‹æ–‡ä»¶ï¼ŒåŒ…å«è·¯ç”±é…ç½®å’Œèœå•å…ƒæ•°æ®

**æ¨¡å—ç»“æ„**ï¼š
```typescript
export const homeModule: RouteObject = {
  path: 'home',
  meta: { key: 'home', label: 'é¦–é¡µæ¨¡å—', icon: 'ğŸ ' },
  children: [...]
}
```

### 4. `router/mobile/` - ç§»åŠ¨ç«¯è·¯ç”±æ¨¡å—

**èŒè´£**ï¼š
- ç®¡ç†æ‰€æœ‰ç§»åŠ¨ç«¯é¡µé¢è·¯ç”±
- ä¸ PCç«¯ç»“æ„ä¿æŒä¸€è‡´

### 5. `layouts/` - å¸ƒå±€ç»„ä»¶

| å¸ƒå±€ | ä½¿ç”¨åœºæ™¯ | ç‰¹ç‚¹ |
|------|----------|------|
| `AdminLayout` | PCç«¯åå° | ä¾§è¾¹æ  + å†…å®¹åŒº |
| `BasicLayout` | PCç«¯æ™®é€šé¡µé¢ | æ— ä¾§è¾¹æ ï¼Œç®€æ´å¸ƒå±€ |
| `MobileLayout` | ç§»åŠ¨ç«¯ | é¡¶éƒ¨Header + åº•éƒ¨å¯¼èˆª |

### 6. `components/SidebarMenu/` - ä¾§è¾¹æ ç»„ä»¶

**èŒè´£**ï¼š
- è¯»å–è·¯ç”±æ¨¡å—çš„ `meta` æ•°æ®
- è‡ªåŠ¨ç”Ÿæˆä¾§è¾¹æ èœå•
- å¤„ç†å±•å¼€/æ”¶èµ·ã€è·¯ç”±è·³è½¬

## ğŸ”„ è·¯ç”±æµç¨‹

### PCç«¯ï¼ˆå®½åº¦ â‰¥ 768pxï¼‰

```
ç”¨æˆ·è®¿é—® /
    â†“
App.tsx æ£€æµ‹åˆ° isMobile = false
    â†“
generateRoutes(false) ç”ŸæˆPCç«¯è·¯ç”±
    â†“
é‡å®šå‘åˆ° /admin/home/page
    â†“
æ¸²æŸ“ AdminLayoutï¼ˆå¸¦ä¾§è¾¹æ ï¼‰
    â†“
æ˜¾ç¤º PCç«¯é¡µé¢
```

### ç§»åŠ¨ç«¯ï¼ˆå®½åº¦ < 768pxï¼‰

```
ç”¨æˆ·è®¿é—® /
    â†“
App.tsx æ£€æµ‹åˆ° isMobile = true
    â†“
generateRoutes(true) ç”Ÿæˆç§»åŠ¨ç«¯è·¯ç”±
    â†“
é‡å®šå‘åˆ° /mobile
    â†“
æ¸²æŸ“ MobileLayoutï¼ˆåº•éƒ¨å¯¼èˆªï¼‰
    â†“
æ˜¾ç¤ºç§»åŠ¨ç«¯é¡µé¢
```

### åŠ¨æ€åˆ‡æ¢

```
ç”¨æˆ·åœ¨ PCç«¯æµè§ˆ /admin/home/page
    â†“
ç¼©å°æµè§ˆå™¨çª—å£åˆ° < 768px
    â†“
è§¦å‘ resize äº‹ä»¶
    â†“
dispatch(setIsMobile(true))
    â†“
isMobile å˜åŒ–è§¦å‘ useMemo é‡æ–°ç”Ÿæˆè·¯ç”±
    â†“
è‡ªåŠ¨è·³è½¬åˆ° /mobile
    â†“
æ¸²æŸ“ç§»åŠ¨ç«¯å¸ƒå±€
```

## ğŸ¨ æ•°æ®æµ

```
Window Resize Event
    â†“
App.tsx useEffect
    â†“
dispatch(setIsMobile(true/false))
    â†“
Redux Store æ›´æ–°
    â†“
useSelector è·å– isMobile
    â†“
generateRoutes(isMobile)
    â†“
åˆ›å»ºæ–°çš„ router å®ä¾‹
    â†“
RouterProvider æ¸²æŸ“æ–°è·¯ç”±
    â†“
æ˜¾ç¤ºå¯¹åº”è®¾å¤‡çš„é¡µé¢
```

## ğŸ“‹ æ·»åŠ æ–°é¡µé¢æµç¨‹

### æ·»åŠ  PCç«¯é¡µé¢

1. åˆ›å»ºé¡µé¢ç»„ä»¶ï¼š`src/pages/newPage/index.tsx`
2. åˆ›å»ºè·¯ç”±æ¨¡å—ï¼š`src/router/computer/newModule.tsx`
3. åœ¨ `computer/index.tsx` ä¸­å¯¼å‡º
4. ä¾§è¾¹æ è‡ªåŠ¨æ˜¾ç¤ºæ–°èœå•

### æ·»åŠ ç§»åŠ¨ç«¯é¡µé¢

1. åˆ›å»ºé¡µé¢ç»„ä»¶ï¼š`src/pages/mobile/NewPage.tsx`
2. åˆ›å»ºè·¯ç”±æ¨¡å—ï¼š`src/router/mobile/newModule.tsx`
3. åœ¨ `mobile/index.tsx` ä¸­å¯¼å‡º
4. åº•éƒ¨å¯¼èˆªå¯é€‰æ‹©æ˜¯å¦æ˜¾ç¤º

## âš™ï¸ é…ç½®æ–‡ä»¶

| æ–‡ä»¶ | ä½œç”¨ |
|------|------|
| `vite.config.ts` | Vite æ„å»ºé…ç½® |
| `tsconfig.json` | TypeScript é…ç½® |
| `tailwind.config.js` | Tailwind CSS é…ç½® |
| `package.json` | ä¾èµ–ç®¡ç† |

## ğŸ”‘ å…³é”®æŠ€æœ¯ç‚¹

1. **åŠ¨æ€è·¯ç”±** - `generateRoutes` æ ¹æ®è®¾å¤‡ç±»å‹ç”Ÿæˆä¸åŒè·¯ç”±
2. **è·¯ç”±æ‡’åŠ è½½** - ä½¿ç”¨ `lazy()` æŒ‰éœ€åŠ è½½é¡µé¢ç»„ä»¶
3. **çŠ¶æ€æŒä¹…åŒ–** - Redux Persist ä¿å­˜çŠ¶æ€
4. **å“åº”å¼æ£€æµ‹** - ç›‘å¬ `resize` äº‹ä»¶è‡ªåŠ¨åˆ‡æ¢
5. **æ¨¡å—åŒ–ç®¡ç†** - PCç«¯å’Œç§»åŠ¨ç«¯è·¯ç”±åˆ†ç¦»

## ğŸ“ å‘½åçº¦å®š

- **ç»„ä»¶æ–‡ä»¶**ï¼šPascalCaseï¼ˆ`AdminLayout.tsx`ï¼‰
- **è·¯ç”±æ¨¡å—**ï¼šcamelCase + Moduleï¼ˆ`homeModule.tsx`ï¼‰
- **å·¥å…·å‡½æ•°**ï¼šcamelCaseï¼ˆ`generateRoutes.tsx`ï¼‰
- **ç±»å‹æ–‡ä»¶**ï¼šcamelCaseï¼ˆ`types.ts`ï¼‰

## ğŸ¯ æœ€ä½³å®è·µ

1. âœ… æ¯ä¸ªæ¨¡å—ç‹¬ç«‹æ–‡ä»¶
2. âœ… ä½¿ç”¨ TypeScript ç±»å‹å®šä¹‰
3. âœ… è·¯ç”±é…ç½®åŒ…å« meta å…ƒæ•°æ®
4. âœ… ç»„ä»¶ä½¿ç”¨æ‡’åŠ è½½
5. âœ… çŠ¶æ€é›†ä¸­ç®¡ç†ï¼ˆReduxï¼‰
6. âœ… æ ·å¼ä½¿ç”¨ Tailwind CSS

## ğŸš€ å¿«é€Ÿå®šä½

- **ä¿®æ”¹ä¾§è¾¹æ èœå•** â†’ `src/components/SidebarMenu/index.tsx`
- **æ·»åŠ PCç«¯è·¯ç”±** â†’ `src/router/computer/`
- **æ·»åŠ ç§»åŠ¨ç«¯è·¯ç”±** â†’ `src/router/mobile/`
- **ä¿®æ”¹å¸ƒå±€** â†’ `src/layouts/`
- **è°ƒæ•´å“åº”å¼æ–­ç‚¹** â†’ `src/App.tsx` (line 17)
- **è·¯ç”±ç”Ÿæˆé€»è¾‘** â†’ `src/router/generateRoutes.tsx`

