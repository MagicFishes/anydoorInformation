# å“åº”å¼è·¯ç”±ç³»ç»Ÿè¯´æ˜

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

æœ¬é¡¹ç›®å®ç°äº†**æ ¹æ®è®¾å¤‡å®½åº¦è‡ªåŠ¨åˆ‡æ¢è·¯ç”±**çš„å“åº”å¼è·¯ç”±ç³»ç»Ÿï¼š

- ğŸ–¥ï¸ **PCç«¯ï¼ˆå®½åº¦ â‰¥ 768pxï¼‰**ï¼šæ˜¾ç¤ºåå°ç®¡ç†ç³»ç»Ÿï¼ˆå¸¦ä¾§è¾¹æ ï¼‰
- ğŸ“± **ç§»åŠ¨ç«¯ï¼ˆå®½åº¦ < 768pxï¼‰**ï¼šæ˜¾ç¤ºç§»åŠ¨ç«¯é¡µé¢ï¼ˆåº•éƒ¨å¯¼èˆªï¼‰

## ğŸ”„ å·¥ä½œåŸç†

### 1. ç›‘å¬çª—å£å¤§å°å˜åŒ–

```typescript
// src/App.tsx
useEffect(() => {
  const handleResize = () => {
    dispatch(setIsMobile(window.innerWidth < 768))
  }

  window.addEventListener('resize', handleResize)
  handleResize() // åˆå§‹åŒ–æ—¶è®¾ç½®ä¸€æ¬¡

  return () => {
    window.removeEventListener('resize', handleResize)
  }
}, [dispatch])
```

- ç›‘å¬æµè§ˆå™¨çª—å£ `resize` äº‹ä»¶
- åˆ¤æ–­å®½åº¦æ˜¯å¦å°äº 768px
- å°†ç»“æœå­˜å‚¨åˆ° Redux store

### 2. åŠ¨æ€ç”Ÿæˆè·¯ç”±

```typescript
// æ ¹æ® isMobile åŠ¨æ€ç”Ÿæˆè·¯ç”±
const router = useMemo(() => {
  const routes = generateRoutes(isMobile)
  return createBrowserRouter(routes as any)
}, [isMobile])
```

- ä½¿ç”¨ `useMemo` ç¼“å­˜è·¯ç”±é…ç½®
- å½“ `isMobile` å˜åŒ–æ—¶ï¼Œé‡æ–°ç”Ÿæˆè·¯ç”±
- `isMobile` å˜åŒ– â†’ è·¯ç”±é‡å»º â†’ é¡µé¢è‡ªåŠ¨åˆ‡æ¢

### 3. è·¯ç”±ç”Ÿæˆå‡½æ•°

```typescript
// src/router/generateRoutes.tsx
export const generateRoutes = (isMobile: boolean): RouteObject[] => {
  if (isMobile) {
    // ç§»åŠ¨ç«¯è·¯ç”±
    return [
      { path: '/', element: <Navigate to="/mobile" replace /> },
      { path: '/mobile', element: <MobileLayout />, children: mobileModules },
      // ...
    ]
  } else {
    // PCç«¯è·¯ç”±
    return [
      { path: '/', element: <Navigate to="/admin/home/page" replace /> },
      { path: '/admin', element: <AdminLayout />, children: computerModules },
      // ...
    ]
  }
}
```

**æ³¨æ„**ï¼šä¸å†ä½¿ç”¨é™æ€çš„ `router.tsx`ï¼Œæ‰€æœ‰è·¯ç”±éƒ½é€šè¿‡ `generateRoutes` åŠ¨æ€ç”Ÿæˆã€‚

## ğŸ“Š è·¯ç”±å¯¹æ¯”

### PCç«¯è·¯ç”±ï¼ˆå®½åº¦ â‰¥ 768pxï¼‰

```
/                           â†’ é‡å®šå‘åˆ° /admin/home/page
/admin                      â†’ AdminLayout (å¸¦ä¾§è¾¹æ )
  â”œâ”€ /admin/home/page
  â”œâ”€ /admin/hooks/useCallback
  â””â”€ ...
/pages                      â†’ BasicLayout (æ— ä¾§è¾¹æ )
  â”œâ”€ /pages/about
  â””â”€ /pages/contact
/login                      â†’ ç™»å½•é¡µ
```

### ç§»åŠ¨ç«¯è·¯ç”±ï¼ˆå®½åº¦ < 768pxï¼‰

```
/                           â†’ é‡å®šå‘åˆ° /mobile
/mobile                     â†’ MobileLayout (åº•éƒ¨å¯¼èˆª)
  â”œâ”€ /mobile (é¦–é¡µ)
  â”œâ”€ /mobile/apps
  â””â”€ /mobile/profile
/login                      â†’ ç™»å½•é¡µ
```

## ğŸ¨ å¸ƒå±€å¯¹æ¯”

| è®¾å¤‡ | å¸ƒå±€ | ç‰¹ç‚¹ | å¯¼èˆªä½ç½® |
|------|------|------|----------|
| **PCç«¯** | AdminLayout | ä¾§è¾¹æ èœå• | å·¦ä¾§ |
| **ç§»åŠ¨ç«¯** | MobileLayout | åº•éƒ¨å¯¼èˆªæ  | åº•éƒ¨ |

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### æµ‹è¯•å“åº”å¼åˆ‡æ¢

1. **æ‰“å¼€æµè§ˆå™¨**ï¼Œè®¿é—® `http://localhost:5173`
2. **PCç«¯ï¼ˆå®½å±ï¼‰**ï¼šçœ‹åˆ°åå°ç®¡ç†ç³»ç»Ÿï¼Œå·¦ä¾§æœ‰ä¾§è¾¹æ 
3. **ç¼©å°æµè§ˆå™¨çª—å£**è‡³å°äº 768px
4. **è‡ªåŠ¨åˆ‡æ¢**åˆ°ç§»åŠ¨ç«¯å¸ƒå±€ï¼Œåº•éƒ¨å‡ºç°å¯¼èˆªæ 
5. **å†æ”¾å¤§çª—å£**ï¼Œè‡ªåŠ¨åˆ‡æ¢å› PCç«¯å¸ƒå±€

### å¼€å‘è€…å·¥å…·æµ‹è¯•

```bash
# Chrome DevTools
1. æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
2. ç‚¹å‡»è®¾å¤‡æ¨¡æ‹ŸæŒ‰é’®ï¼ˆCtrl+Shift+Mï¼‰
3. é€‰æ‹©ä¸åŒè®¾å¤‡ï¼ˆiPhone, iPad, Desktopï¼‰
4. è§‚å¯Ÿè·¯ç”±å’Œå¸ƒå±€çš„è‡ªåŠ¨åˆ‡æ¢
```

## ğŸ’¡ ä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ï¼Ÿ

### âœ… ä¼˜ç‚¹

1. **çœŸæ­£çš„å“åº”å¼** - ä¸åªæ˜¯æ ·å¼å˜åŒ–ï¼Œè¿è·¯ç”±éƒ½ä¸åŒ
2. **æ€§èƒ½ä¼˜åŒ–** - ç§»åŠ¨ç«¯ä¸åŠ è½½ PCç«¯çš„ä»£ç 
3. **ç”¨æˆ·ä½“éªŒ** - ä¸ºä¸åŒè®¾å¤‡æä¾›æœ€ä¼˜çš„äº¤äº’æ–¹å¼
4. **ä»£ç åˆ†ç¦»** - PCç«¯å’Œç§»åŠ¨ç«¯ä»£ç å®Œå…¨ç‹¬ç«‹

### ğŸ” å¯¹æ¯”ä¼ ç»Ÿå“åº”å¼

| æ–¹å¼ | ä¼ ç»Ÿå“åº”å¼ | æœ¬é¡¹ç›®å“åº”å¼è·¯ç”± |
|------|-----------|-----------------|
| **å®ç°** | CSS Media Query | åŠ¨æ€è·¯ç”±åˆ‡æ¢ |
| **å¸ƒå±€** | åŒä¸€ç»„ä»¶å“åº”å¼ | ä¸åŒç»„ä»¶ |
| **ä»£ç ** | æ‰€æœ‰ä»£ç éƒ½åŠ è½½ | æŒ‰éœ€åŠ è½½ |
| **ä½“éªŒ** | æ¡Œé¢ç¼©å°ç‰ˆ | ä¸“é—¨è®¾è®¡ |

## ğŸ“ æ·»åŠ æ–°é¡µé¢

### æ·»åŠ  PCç«¯é¡µé¢

åœ¨ `src/router/computer/` ä¸‹æ·»åŠ æ¨¡å—ï¼š

```typescript
// src/router/computer/newModule.tsx
export const newModule: RouteObject = {
  path: 'newModule',
  meta: { key: 'newModule', label: 'æ–°æ¨¡å—', icon: 'ğŸ‰' },
  children: [...]
}
```

### æ·»åŠ ç§»åŠ¨ç«¯é¡µé¢

åœ¨ `src/router/mobile/index.tsx` ä¸­æ·»åŠ ï¼š

```typescript
export const mobileModules: RouteObject[] = [
  // ...existing
  {
    path: 'newpage',
    element: <NewMobilePage />,
    meta: { key: 'mobile-newpage', label: 'æ–°é¡µé¢' }
  }
]
```

## âš™ï¸ è‡ªå®šä¹‰æ–­ç‚¹

å¦‚æœæƒ³æ”¹å˜ PC/ç§»åŠ¨ç«¯çš„åˆ†ç•Œç‚¹ï¼š

```typescript
// src/App.tsx
dispatch(setIsMobile(window.innerWidth < 1024)) // æ”¹ä¸º 1024px
```

## ğŸ¯ æœ€ä½³å®è·µ

1. **ç§»åŠ¨ç«¯ä¼˜å…ˆ** - å…ˆè®¾è®¡ç§»åŠ¨ç«¯ï¼Œå†æ‰©å±• PCç«¯
2. **æ€§èƒ½ä¼˜åŒ–** - ä½¿ç”¨è·¯ç”±æ‡’åŠ è½½
3. **çŠ¶æ€æŒä¹…åŒ–** - åˆ‡æ¢è®¾å¤‡æ—¶ä¿æŒç”¨æˆ·çŠ¶æ€
4. **æµ‹è¯•è¦†ç›–** - æµ‹è¯•ä¸åŒå®½åº¦ä¸‹çš„è¡¨ç°

## ğŸ”§ è°ƒè¯•æŠ€å·§

### æŸ¥çœ‹å½“å‰è®¾å¤‡çŠ¶æ€

```typescript
// åœ¨ä»»ä½•ç»„ä»¶ä¸­
import { useSelector } from 'react-redux'
import { RootState } from '@/store/store'

const isMobile = useSelector((state: RootState) => state.app.isMobile)
console.log('å½“å‰è®¾å¤‡:', isMobile ? 'ç§»åŠ¨ç«¯' : 'PCç«¯')
```

### æ‰‹åŠ¨è§¦å‘åˆ‡æ¢

```javascript
// æµè§ˆå™¨æ§åˆ¶å°
// è§¦å‘çª—å£å¤§å°å˜åŒ–
window.dispatchEvent(new Event('resize'))
```

## ğŸ“± ç§»åŠ¨ç«¯å¸ƒå±€ç‰¹æ€§

- âœ… é¡¶éƒ¨ Header
- âœ… åº•éƒ¨ Tab å¯¼èˆªï¼ˆğŸ  é¦–é¡µ | ğŸ“± åº”ç”¨ | ğŸ‘¤ æˆ‘çš„ï¼‰
- âœ… å…¨å±å†…å®¹åŒº
- âœ… æ‰‹åŠ¿ä¼˜åŒ–ï¼ˆæ»šåŠ¨ã€ç‚¹å‡»ï¼‰

## ğŸ–¥ï¸ PCç«¯å¸ƒå±€ç‰¹æ€§

- âœ… ä¾§è¾¹æ å¯¼èˆª
- âœ… å¯æŠ˜å èœå•
- âœ… é¢åŒ…å±‘å¯¼èˆª
- âœ… å¤šæ ‡ç­¾é¡µæ”¯æŒ

## ğŸŒŸ æ€»ç»“

é€šè¿‡è¿™ä¸ªå“åº”å¼è·¯ç”±ç³»ç»Ÿï¼Œå¯ä»¥ï¼š

1. ğŸ”„ **è‡ªåŠ¨æ£€æµ‹è®¾å¤‡** - æ ¹æ®å®½åº¦åˆ¤æ–­ PC/ç§»åŠ¨ç«¯
2. ğŸ¨ **åŠ è½½ä¸åŒå¸ƒå±€** - PCç«¯ä¾§è¾¹æ  vs ç§»åŠ¨ç«¯åº•éƒ¨å¯¼èˆª
3. ğŸš€ **ä¼˜åŒ–æ€§èƒ½** - æŒ‰éœ€åŠ è½½å¯¹åº”ä»£ç 
4. ğŸ’¯ **æå‡ä½“éªŒ** - ä¸ºä¸åŒè®¾å¤‡æä¾›æœ€ä¼˜äº¤äº’

è¿™æ˜¯ä¸€ä¸ªçœŸæ­£æ„ä¹‰ä¸Šçš„**å…¨æ ˆå“åº”å¼è®¾è®¡**ï¼

